import React, { useState } from "react";
import { FaBars, FaTimes } from "react-icons/fa";
import "../styles/navbar.css";
import "../styles/modal.css";
// import logo from "../assets/3mmt logo.png";

import SignIn from "../pages/SignInPage";
import SignUp from "../pages/SignUpPage";

function Navbar() {
  const [menuOpen, setMenuOpen] = useState(false);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [authMode, setAuthMode] = useState("signin");

  // Toggle mobile menu
  const toggleMenu = () => setMenuOpen(!menuOpen);

  // Modal handlers
  const openModal = (mode) => {
    setAuthMode(mode);
    setIsModalOpen(true);
  };

  const closeModal = () => {
    setIsModalOpen(false);
  };

  return (
    <>
      <div className="navbar-container">
        <div className="logo">
          <svg
            width="107"
            height="74"
            viewBox="0 0 107 74"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            style={{
              width: "150px",
              height: "70px",
            }}
          >
            <path
              d="M37.7639 13.5564V56.0819H40.6335V13.5564H37.7639ZM42.3552 17.7877V19.926C43.0821 20.4807 43.8187 21.0076 44.5552 21.5161V39.1641H46.2769V22.6624C47.703 23.5788 49.1746 24.4273 50.6864 25.2047H50.6769V39.1641H52.3986V26.0459C53.8525 26.7301 55.316 27.3402 56.7985 27.8579V39.1641H58.5203V28.4311C59.9742 28.8841 61.4472 29.2539 62.9202 29.5497V39.1641H64.642V29.8548C66.1054 30.0766 67.5689 30.2338 69.0419 30.2985V39.1641H70.7636V30.3447C71.9401 30.354 73.1262 30.2985 74.3027 30.2061V28.5975C63.322 29.5867 52.389 25.7871 42.3552 17.7877ZM36.0422 18.1454C34.1282 22.1539 31.6097 25.6947 28.7727 28.6899V31.112C30.0076 29.9195 31.1946 28.6252 32.3118 27.2385V39.1641H34.0335V24.9551C34.7414 23.9474 35.4128 22.9028 36.0422 21.8119V18.1454ZM28.7727 40.8282V43.6016H36.0422V40.8282H28.7727ZM42.3552 40.8282V43.6016H74.3027V40.8282H42.3552Z"
              fill="#1E88E5"
            />
            <path
              d="M39.2944 0.747365C41.5749 0.747365 43.3988 2.52385 43.3988 4.68598C43.3988 6.00807 43.0555 6.69565 42.6204 7.31447C42.5195 7.45547 42.4112 7.60071 42.2958 7.75018C41.9063 8.26063 41.4593 8.84806 41.1361 9.70828C41.061 9.90926 40.9634 10.1011 40.8451 10.28L40.8093 10.3308C40.7063 10.4768 40.5934 10.6069 40.4705 10.721C40.1376 11.0266 39.7317 11.2105 39.2944 11.2105C38.6936 11.2105 38.1571 10.8689 37.7794 10.3308L37.7444 10.28C37.6258 10.1011 37.528 9.90929 37.4526 9.70828C37.1294 8.84806 36.6824 8.26063 36.2929 7.75018C36.1775 7.60071 36.0693 7.45547 35.9683 7.31447C35.5339 6.69565 35.1899 6.00807 35.1899 4.68523C35.1899 2.52385 37.0138 0.747365 39.2944 0.747365ZM41.4764 10.6754C41.6227 10.4534 41.7428 10.215 41.8346 9.9706C42.1152 9.22324 42.4764 8.74866 42.854 8.25316C42.9779 8.08874 43.1048 7.92357 43.2301 7.74495C43.7413 7.01776 44.1451 6.18295 44.1451 4.68523C44.1451 2.08515 41.9593 0 39.2944 0C36.6295 0 34.4436 2.0844 34.4436 4.68598C34.4436 6.18221 34.8474 7.01776 35.3586 7.7442C35.4839 7.92357 35.6108 8.08948 35.7354 8.25241C36.1123 8.74866 36.4742 9.22398 36.7541 9.97135C36.8459 10.215 36.966 10.4534 37.1123 10.6754L37.2817 12.3764C37.3317 12.8761 37.5653 13.3394 37.9371 13.6763C38.3089 14.0132 38.7925 14.1998 39.2940 14.1998C39.7954 14.1998 40.279 14.0132 40.6509 13.6763C41.0227 13.3394 41.2563 12.8761 41.3063 12.3764L41.4764 10.6754ZM40.6406 11.5371L40.563 12.3016C40.5306 12.6162 40.3829 12.9077 40.1485 13.1195C39.914 13.3314 39.6094 13.4487 39.2936 13.4487C38.9778 13.4487 38.6732 13.3314 38.4387 13.1195C38.2043 12.9077 38.0566 12.6162 38.0242 12.3016L37.9474 11.5371C38.3438 11.81 38.8133 11.9567 39.2944 11.9578C39.7752 11.9565 40.2444 11.8099 40.6406 11.5371ZM32.2914 0.508209C32.3548 0.432119 32.4457 0.384338 32.5442 0.375369C32.6427 0.3664 32.7408 0.396976 32.8168 0.460377L33.9362 1.39458C33.9752 1.42555 34.0076 1.46402 34.0315 1.50771C34.0554 1.55141 34.0703 1.59945 34.0754 1.64902C34.0805 1.69858 34.0757 1.74867 34.0612 1.79633C34.0467 1.84399 34.0228 1.88826 33.9909 1.92654C33.9591 1.96482 33.9199 1.99633 33.8757 2.01922C33.8315 2.04212 33.7832 2.05593 33.7336 2.05984C33.684 2.06376 33.6341 2.0577 33.5869 2.04202C33.5397 2.02635 33.496 2.00137 33.4586 1.96856L32.3392 1.03435C32.2632 0.970909 32.2155 0.879846 32.2065 0.781183C32.1976 0.682521 32.2281 0.584334 32.2914 0.508209ZM46.2973 0.508209C46.3606 0.584334 46.3911 0.682521 46.3822 0.781183C46.3732 0.879846 46.3255 0.970909 46.2495 1.03435L45.1301 1.96856C45.0538 2.0292 44.9569 2.05754 44.86 2.04755C44.7631 2.03755 44.6739 1.99 44.6116 1.91506C44.5492 1.84011 44.5186 1.74372 44.5262 1.64647C44.5339 1.54922 44.5792 1.45882 44.6525 1.39458L45.7719 0.460377C45.8479 0.396976 45.946 0.3664 46.0445 0.375369C46.143 0.384338 46.2339 0.432119 46.2973 0.508209ZM31.4586 4.29735C31.4586 4.19824 31.4979 4.1032 31.5679 4.03312C31.6379 3.96304 31.7328 3.92367 31.8317 3.92367H33.3243C33.4232 3.92367 33.5181 3.96304 33.5881 4.03312C33.6581 4.1032 33.6974 4.19824 33.6974 4.29735C33.6974 4.39646 33.6581 4.49151 33.5881 4.56158C33.5181 4.63166 33.4232 4.67103 33.3243 4.67103H31.8317C31.7328 4.67103 31.6379 4.63166 31.5679 4.56158C31.4979 4.49151 31.4586 4.39646 31.4586 4.29735ZM44.8913 4.29735C44.8913 4.19824 44.9306 4.1032 45.0006 4.03312C45.0706 3.96304 45.1655 3.92367 45.2645 3.92367H46.757C46.8559 3.92367 46.9509 3.96304 47.0208 4.03312C47.0908 4.1032 47.1301 4.19824 47.1301 4.29735C47.1301 4.39646 47.0908 4.49151 47.0208 4.56158C46.9509 4.63166 46.8559 4.67103 46.757 4.67103H45.2645C45.1655 4.67103 45.0706 4.63166 45.0006 4.56158C44.9306 4.49151 44.8913 4.39646 44.8913 4.29735ZM34.031 7.1194C34.0753 7.208 34.0827 7.31061 34.0515 7.40466C34.0203 7.4987 33.953 7.57648 33.8646 7.62088L32.7452 8.18141C32.7013 8.20384 32.6535 8.21736 32.6044 8.22119C32.5553 8.22502 32.5059 8.21907 32.4591 8.2037C32.4123 8.18833 32.369 8.16383 32.3317 8.13163C32.2944 8.09942 32.2639 8.06014 32.2418 8.01605C32.2198 7.97196 32.2066 7.92393 32.2032 7.87474C32.1997 7.82554 32.2061 7.77615 32.2218 7.72941C32.2375 7.68267 32.2623 7.63951 32.2947 7.60241C32.3272 7.56531 32.3666 7.53502 32.4108 7.51326L33.5302 6.95274C33.6187 6.90834 33.7212 6.90096 33.8151 6.93222C33.909 6.96347 33.9866 7.0308 34.031 7.1194ZM44.5577 7.1194C44.6021 7.031 44.6796 6.96381 44.7733 6.93257C44.8671 6.90132 44.9693 6.90858 45.0577 6.95274L46.1771 7.51326C46.2225 7.53425 46.2632 7.56415 46.2968 7.60119C46.3304 7.63822 46.3562 7.68164 46.3728 7.72887C46.3893 7.77609 46.3962 7.82617 46.393 7.87611C46.3899 7.92605 46.3767 7.97486 46.3544 8.01962C46.3321 8.06438 46.301 8.10419 46.263 8.13668C46.2249 8.16918 46.1808 8.1937 46.1332 8.20879C46.0855 8.22388 46.0353 8.22923 45.9856 8.22453C45.9358 8.21983 45.8875 8.20516 45.8436 8.18141L44.7242 7.62088C44.6359 7.57648 44.5688 7.49883 44.5376 7.40497C44.5064 7.3111 44.5136 7.20868 44.5577 7.12015"
              fill="#FF7043"
            />
            <path
              d="M5.63587 68.7716C4.58 68.7716 3.63383 68.606 2.79736 68.2746C1.9609 67.9433 1.28898 67.4529 0.781617 66.8035C0.287964 66.1541 0.0274251 65.3722 0 64.4577H3.74353C3.79838 64.9746 3.9835 65.3722 4.29889 65.6505C4.61428 65.9156 5.02566 66.0481 5.53302 66.0481C6.0541 66.0481 6.46548 65.9354 6.76716 65.7101C7.06883 65.4716 7.21967 65.1469 7.21967 64.736C7.21967 64.3915 7.09626 64.1065 6.84943 63.8812C6.61632 63.6559 6.3215 63.4704 5.96497 63.3246C5.62215 63.1788 5.1285 63.0131 4.48401 62.8276C3.55156 62.5493 2.79051 62.271 2.20087 61.9926C1.61123 61.7143 1.10386 61.3035 0.678772 60.7601C0.253683 60.2167 0.0411377 59.5077 0.0411377 58.633C0.0411377 57.3341 0.527934 56.3203 1.50153 55.5914C2.47512 54.8492 3.74353 54.4781 5.30677 54.4781C6.89742 54.4781 8.17955 54.8492 9.15314 55.5914C10.1267 56.3203 10.6478 57.3408 10.7164 58.6528H6.91114C6.88371 58.2022 6.7123 57.851 6.39692 57.5992C6.08153 57.3341 5.67701 57.2016 5.18335 57.2016C4.75826 57.2016 4.41545 57.3143 4.15491 57.5396C3.89437 57.7516 3.7641 58.0631 3.7641 58.4739C3.7641 58.9245 3.9835 59.2757 4.4223 59.5275C4.86111 59.7794 5.54674 60.051 6.47919 60.3426C7.41165 60.6474 8.16584 60.939 8.74177 61.2173C9.33141 61.4956 9.83877 61.8999 10.2639 62.43C10.689 62.9601 10.9015 63.6427 10.9015 64.4776C10.9015 65.2728 10.689 65.9951 10.2639 66.6445C9.85248 67.2939 9.24913 67.8108 8.4538 68.1951C7.65847 68.5795 6.71916 68.7716 5.63587 68.7716Z"
              fill="black"
            />
            <path
              d="M20.08 68.6325L16.5833 63.9806V68.6325H13.066V53.9215H16.5833V62.0523L20.0595 57.5396H24.3995L19.6275 63.1059L24.4406 68.6325H20.08Z"
              fill="black"
            />
            <path
              d="M27.5499 56.3865C26.9328 56.3865 26.4255 56.2142 26.0278 55.8697C25.6439 55.5118 25.4519 55.0745 25.4519 54.5576C25.4519 54.0275 25.6439 53.5901 26.0278 53.2455C26.4255 52.8877 26.9328 52.7088 27.5499 52.7088C28.1532 52.7088 28.6469 52.8877 29.0309 53.2455C29.4285 53.5901 29.6274 54.0275 29.6274 54.5576C29.6274 55.0745 29.4285 55.5118 29.0309 55.8697C28.6469 56.2142 28.1532 56.3865 27.5499 56.3865ZM29.2983 57.5396V68.6325H25.781V57.5396H29.2983Z"
              fill="black"
            />
            <path
              d="M35.3645 53.9215V68.6325H31.8472V53.9215H35.3645Z"
              fill="black"
            />
            <path
              d="M40.8601 55.6728V68.6325H37.7616V55.6728H40.8601Z"
              fill="#1E88E5"
            />
            <path
              d="M50.7445 61.4956C51.2656 61.5752 51.7387 61.7806 52.1637 62.1119C52.6025 62.4432 52.9454 62.8541 53.1922 63.3445C53.4527 63.8348 53.583 64.3583 53.583 64.915C53.583 65.6174 53.3979 66.2535 53.0276 66.8234C52.6574 67.38 52.1157 67.824 51.4027 68.1554C50.7034 68.4734 49.8737 68.6325 48.9139 68.6325H43.566V54.7763H48.7082C49.6818 54.7763 50.5114 54.9353 51.197 55.2534C51.8826 55.5582 52.3969 55.9757 52.7397 56.5058C53.0825 57.0359 53.2539 57.6323 53.2539 58.295C53.2539 59.1167 53.0208 59.7992 52.5546 60.3426C52.102 60.8727 51.4987 61.2571 50.7445 61.4956ZM45.4377 60.7601H48.5848C49.4624 60.7601 50.1411 60.5613 50.6211 60.1637C51.101 59.7661 51.341 59.2161 51.341 58.5137C51.341 57.8113 51.101 57.2613 50.6211 56.8637C50.1411 56.4661 49.4487 56.2673 48.5436 56.2673H45.4377V60.7601ZM48.7493 67.1415C49.6818 67.1415 50.4085 66.9294 50.9296 66.5053C51.4507 66.0812 51.7112 65.4915 51.7112 64.736C51.7112 63.9674 51.437 63.3643 50.8885 62.927C50.34 62.4764 49.6063 62.2511 48.6876 62.2511H45.4377V67.1415H48.7493Z"
              fill="black"
            />
            <path
              d="M58.0522 59.5077C58.3813 58.8848 58.8476 58.401 59.4509 58.0564C60.068 57.7119 60.8153 57.5396 61.6929 57.5396V59.4083H61.1993C59.1012 59.4083 58.0522 60.5083 58.0522 62.7083V68.6325H56.1805V57.7384H58.0522V59.5077Z"
              fill="black"
            />
            <path
              d="M64.8203 55.9691C64.4638 55.9691 64.1621 55.8498 63.9153 55.6112C63.6685 55.3727 63.5451 55.0811 63.5451 54.7365C63.5451 54.3919 63.6685 54.1004 63.9153 53.8618C64.1621 53.6233 64.4638 53.504 64.8203 53.504C65.1632 53.504 65.4511 53.6233 65.6842 53.8618C65.9311 54.1004 66.0545 54.3919 66.0545 54.7365C66.0545 55.0811 65.9311 55.3727 65.6842 55.6112C65.4511 55.8498 65.1632 55.9691 64.8203 55.9691ZM65.7254 57.7384V68.6325H63.8536V57.7384H65.7254Z"
              fill="black"
            />
            <path
              d="M68.2161 63.1457C68.2161 62.0324 68.4492 61.0583 68.9155 60.2233C69.3817 59.3751 70.0193 58.7191 70.8284 58.2552C71.6511 57.7914 72.5699 57.5594 73.5846 57.5594C74.4622 57.5594 75.2781 57.7582 76.0323 58.1558C76.7865 58.5402 77.3624 59.0504 77.7601 59.6866V53.9215H79.6524V68.6325H77.7601V66.5849C77.3898 67.2343 76.8413 67.771 76.1146 68.1951C75.3878 68.606 74.5376 68.8114 73.564 68.8114C72.563 68.8114 71.6511 68.5728 70.8284 68.0957C70.0193 67.6186 69.3817 66.9493 68.9155 66.0879C68.4492 65.2264 68.2161 64.2457 68.2161 63.1457ZM77.7601 63.1655C77.7601 62.3438 77.5887 61.6282 77.2459 61.0185C76.903 60.4089 76.4368 59.945 75.8472 59.6269C75.2713 59.2956 74.6336 59.1299 73.9343 59.1299C73.2349 59.1299 72.5973 59.289 72.0214 59.6071C71.4454 59.9251 70.9861 60.389 70.6433 60.9986C70.3004 61.6083 70.129 62.324 70.129 63.1457C70.129 63.9806 70.3004 64.7095 70.6433 65.3324C70.9861 65.9421 71.4454 66.4126 72.0214 66.7439C72.5973 67.062 73.2349 67.221 73.9343 67.221C74.6336 67.221 75.2713 67.062 75.8472 66.7439C76.4368 66.4126 76.903 65.9421 77.2459 65.3324C77.5887 64.7095 77.7601 63.9872 77.7601 63.1655Z"
              fill="black"
            />
            <path
              d="M87.4641 57.5594C88.4377 57.5594 89.2879 57.7649 90.0146 58.1757C90.7551 58.5866 91.3036 59.1034 91.6601 59.7263V57.7384H93.5525V68.871C93.5525 69.865 93.3331 70.7463 92.8943 71.515C92.4555 72.297 91.8247 72.9066 91.0019 73.344C90.1929 73.7813 89.2467 74 88.1634 74C86.6825 74 85.4483 73.662 84.461 72.9861C83.4737 72.3102 82.8909 71.3891 82.7127 70.2228H84.5639C84.7696 70.8855 85.1946 71.4156 85.8391 71.8132C86.4836 72.2241 87.2584 72.4295 88.1634 72.4295C89.1919 72.4295 90.0283 72.118 90.6728 71.4952C91.331 70.8723 91.6601 69.9975 91.6601 68.871V66.5849C91.2899 67.221 90.7414 67.7511 90.0146 68.1752C89.2879 68.5993 88.4377 68.8114 87.4641 68.8114C86.4631 68.8114 85.5512 68.5728 84.7284 68.0957C83.9194 67.6186 83.2818 66.9493 82.8155 66.0879C82.3493 65.2264 82.1162 64.2457 82.1162 63.1457C82.1162 62.0324 82.3493 61.0583 82.8155 60.2233C83.2818 59.3751 83.9194 58.7191 84.7284 58.2552C85.5512 57.7914 86.4631 57.5594 87.4641 57.5594ZM91.6601 63.1655C91.6601 62.3438 91.4887 61.6282 91.1459 61.0185C90.8031 60.4089 90.3369 59.945 89.7472 59.6269C89.1713 59.2956 88.5337 59.1299 87.8343 59.1299C87.135 59.1299 86.4973 59.289 85.9214 59.6071C85.3455 59.9251 84.8861 60.389 84.5433 60.9986C84.2005 61.6083 84.0291 62.324 84.0291 63.1457C84.0291 63.9806 84.2005 64.7095 84.5433 65.3324C84.8861 65.9421 85.3455 66.4126 85.9214 66.7439C86.4973 67.062 87.135 67.221 87.8343 67.221C88.5337 67.221 89.1713 67.062 89.7472 66.7439C90.3369 66.4126 90.8031 65.9421 91.1459 65.3324C91.4887 64.7095 91.6601 63.9872 91.6601 63.1655Z"
              fill="black"
            />
            <path
              d="M107 62.7679C107 63.1125 106.979 63.477 106.938 63.8613H97.9291C97.9977 64.9348 98.3748 65.7764 99.0604 66.3861C99.7598 66.9824 100.603 67.2806 101.59 67.2806C102.399 67.2806 103.071 67.1017 103.606 66.7439C104.155 66.3728 104.539 65.8824 104.758 65.2728H106.774C106.472 66.3198 105.869 67.1746 104.964 67.8373C104.059 68.4867 102.934 68.8114 101.59 68.8114C100.521 68.8114 99.5609 68.5795 98.7108 68.1156C97.8743 67.6517 97.2161 66.9957 96.7361 66.1475C96.2562 65.286 96.0162 64.2921 96.0162 63.1655C96.0162 62.039 96.2493 61.0517 96.7156 60.2035C97.1818 59.3553 97.8332 58.7058 98.6696 58.2552C99.5198 57.7914 100.493 57.5594 101.59 57.5594C102.66 57.5594 103.606 57.7847 104.429 58.2354C105.252 58.686 105.882 59.3089 106.321 60.1041C106.774 60.886 107 61.774 107 62.7679ZM105.067 62.3902C105.067 61.7011 104.909 61.1113 104.593 60.6209C104.278 60.1173 103.846 59.7396 103.298 59.4878C102.763 59.2227 102.166 59.0902 101.508 59.0902C100.562 59.0902 99.7529 59.3818 99.081 59.9649C98.4228 60.548 98.0457 61.3565 97.9497 62.3902H105.067Z"
              fill="black"
            />
          </svg>
        </div>
        <div className="nav-select-items">
          <div className={`nav-items ${menuOpen ? "open" : ""}`}>
            <a href="#Home">Home</a>
            <a href="#Home">About Us</a>
            <a href="#section4">How it Works</a>
            <a href="#footer">Contact Us</a>
            <select className="browse-category">
              <option>Browse Categories</option>
              <option>Web Development</option>
              <option>Graphic Design</option>
              <option>Digital Marketing</option>
            </select>
          </div>
        </div>
        <div className="sigIn_signUp">
          {" "}
          <div className="sign-in">
            <button onClick={() => openModal("signin")}>Sign In</button>
          </div>
          <div>
            <button className="sign-up" onClick={() => openModal("signup")}>
              Sign Up
            </button>
          </div>
        </div>
        <button className="menu-toggle" onClick={toggleMenu}>
          {menuOpen ? <FaTimes /> : <FaBars />}
        </button>

        {/* Auth Modal */}
        {isModalOpen && (
          <div className="modal-overlay" onClick={closeModal}>
            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
              <button className="close-modal-btn" onClick={closeModal}>
                ×
              </button>
              {authMode === "signup" ? (
                <SignUp switchToSignIn={() => setAuthMode("signin")} />
              ) : (
                <SignIn switchToSignUp={() => setAuthMode("signup")} />
              )}
            </div>
          </div>
        )}
      </div>
    </>
  );
}

export default Navbar;
